<!DOCTYPE html>
<html style="height: 100%">
   <head>
       <meta charset="UTF-8">
       <!--2、定义viewport-->
       <meta name="viewport" content="width=device-width,initial-scale=1,
    user-scalable=no">
       <!--3、指定跨IE浏览器兼容-->
       <meta http-equiv="x-ua-compatible" content="IE=edge">

       <link rel="stylesheet"
             href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css"
             integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb"
             crossorigin="anonymous"/>
       <!--4、引入bootstrap.css-->
       <link rel="stylesheet" href="http://ripley-10057507.file.myqcloud.com/mySelf/bootstrap.css"/>
       <link rel="stylesheet" href="http://ripley-10057507.file.myqcloud.com/mySelf/myself.css"/>
    <style>
        # form-control{
            height: 34px;
        }
    </style>

   </head>
   <body style="height: 100%; margin: 10px">
   <div class="nav_first" style="margin: 10px">
       <div class="more">
           <div class="row">
               <div class="col-xs-4">
                   <label>工作经验</label>
                   <div>
                       <select class="form-control" style="height: 34px;">
                           <option value="0000">无经验</option>
                           <option value="0001">1年以下</option>
                           <option value="0103">1-3年</option>
                           <option value="0305">3-5年</option>
                           <option value="0510">5-10年</option>
                           <option value="1099">10年以上</option>
                       </select>
                   </div>
               </div>
               <div class="col-xs-4">
                   <label>当前学历</label>
                   <div>
                       <select class="form-control" style="height: 34px;">
                           <option value="-1">不限</option>
                           <option value="7">高中/中专/中技及以下</option>
                           <option value="5">大专及同等学历</option>
                           <option value="4">本科/学士及等同学历</option>
                           <option value="3">硕士/研究生及等同学历</option>
                           <option value="1">博士及以上</option>
                           <option value="8">其他 </option>
                       </select>
                   </div>
               </div>
               <div class="col-xs-4">
                   <label>所学专业</label>
                   <div>
                       <select class="form-control" style="height: 34px;">
                           <option value="0">不限</option>
                           <option value="1">国企</option>
                           <option value="2">外商独资</option>
                           <option value="3">代表处</option>
                           <option value="4">合资</option>
                           <option value="5">民营</option>

                           <option value="6">国家机关</option>
                           <option value="8">股份制企业</option>
                           <option value="9">上市公司</option>
                           <option value="10">事业单位</option>
                           <option value="11">银行</option>

                           <option value="12">医院</option>
                           <option value="13">学校/下级学院</option>
                           <option value="14">律师事务所</option>
                           <option value="15">社会团体</option>
                           <option value="16">港澳台公司</option>
                           <option value="7">其它</option>
                       </select>
                   </div>
               </div>


           </div>
           <div class="row">
               <div class="col-xs-4">
                   <label>倾向发展趋势</label>
                   <div>
                       <select class="form-control" style="height: 34px;">
                           <option value="0">不限</option>
                           <option value="1">1</option>
                           <option value="2">2</option>
                           <option value="3">3</option>
                           <option value="4">4</option>
                           <option value="5">5</option>
                       </select>
                   </div>
                   <label>分</label>
               </div>
               <div class="col-xs-4">
                   <label>倾向生活环境</label>
                   <div>
                       <select class="form-control" style="height: 34px;">
                           <option value="0">不限</option>
                           <option value="1">1</option>
                           <option value="2">2</option>
                           <option value="3">3</option>
                           <option value="4">4</option>
                           <option value="5">5</option>
                       </select>
                   </div>
                   <label>分</label>
               </div>
               <div class="col-xs-4">
                   <label>倾向薪资待遇</label>
                   <div>
                       <select class="form-control" style="height: 34px;">
                           <option value="0">不限</option>
                           <option value="1">1</option>
                           <option value="2">2</option>
                           <option value="3">3</option>
                           <option value="4">4</option>
                           <option value="5">5</option>
                       </select>
                   </div>
                   <label>分</label>
               </div>
           </div>
       </div>
       <div class="row" style="margin-top: 5px">
           <div class="col-xs-4">
               <label>职位类别</label>
               <div>
                   <select class="form-control" style="height: 34px;">
                       <option>不限</option>
                       <option value="4010200 700100 7002000 400000 4082000 4084000 7004000">销售|客服|市场</option>
                       <option value="2060000 5002000 301000">财务|人力资源|行政</option>
                       <option value="201300 2023405 1050000">项目|质量|高级管理</option>
                       <option value="160000 160300 160200 160400 200500 200300 5001000">IT|互联网|通信</option>
                       <option value="141000 140000 142000">房产|建筑|物业管理</option>
                       <option value="2071000 2070000 7006000 200900">金融</option>
                       <option value="4083000 4010300 4010400">采购|贸易|交通|物流</option>
                       <option value="121100 160100 7003000 7003100 5003000 7005000 5004000 121300 120500">生产|制造</option>
                       <option value="2120000 2100708">传媒|印刷|艺术|设计</option>
                       <option value="2140000 2090000 2080000 2120500 2120500">咨询|法律|教育|翻译</option>
                       <option value="5005000 4040000 201100 2050000 2051000 6270000">服务业</option>
                       <option value="130000 2023100 100000 200100">能源|环保|农业|科研</option>
                       <option value="5006000 200700 300100 300200">兼职|实习|社工|其他</option>
                   </select>
               </div>
           </div>
           <div class="col-xs-4">
               <ul class="nav nav-pills" id='seach_job'>
                   <li role="presentation" class="active" style="margin-bottom: 2px"><a href="#">搜职位</a></li>
               </ul>
               <input type="text" class="form-control" id="exampleInputEmail1" placeholder="请输入关键字">
           </div>

           <div class="col-xs-2 " id='more' style="margin-top: 30px">
               精确搜索>>
           </div>

           <div class="col-xs-2" style="margin-top: 20px">
               <button type="button" class="btn btn-info">搜工作</button>
           </div>
       </div>
   </div>


       <div id="container" style="height: 100%">

       </div>

       <script type="text/javascript" src="http://ripley-10057507.file.myqcloud.com/mySelf/jquery-1.11.3.js"></script>
       <script type="text/javascript" src="http://ripley-10057507.file.myqcloud.com/mySelf/bootstrap.min.js"></script>

       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-gl/echarts-gl.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts-stat/ecStat.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/dataTool.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/china.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/world.js"></script>
       <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=ZUONbpqGBsYGXNIYHicvbAbM"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/bmap.min.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/simplex.js"></script>

       <script>
           $(function(){
               $.ajax({
                   type : "get",
                   url : "/getData/allJobNum",
                   //dataType:"json",
                   cache : false,
                   async : false,
                   success : function(result) {
                       if(result == null || result == ""){
                           window.location.href = "/exception/error";
                       }
                       var res = [];
                       //将Ajax传入的数据转化成JSON格式，便于解析
                       result = JSON.parse(result)
                       console.log(result)
                       for (var i = 0; i < result.length; i++) {
                           //获得每个城市的统计数量
                           var count = result[i].val
                           //获得经纬度
                           var geo = [ result[i].longitude, result[i].latitude ]
                           res.push({
                               name : result[i].cname,
                               //两个字符串拼接
                               value : geo.concat(count),
                           });
                       }
                       // 基于准备好的dom，初始化echarts实例
                       var myChart = echarts.init(document.getElementById('container'));
                       //var option = {
                       myChart.setOption({
                           backgroundColor : '#404a59',
                           title : {
                               text : '全国各大城市职位数量分布图',
                               subtext : '由指南针云计算提供',
                               sublink : 'http://www.pm25.in',
                               left : 'center',
                               textStyle : {
                                   color : '#fff'
                               }
                           },
                           tooltip : {
                               trigger : 'item'
                           },
                           legend : {
                               orient : 'vertical',
                               y : 'bottom',
                               x : 'right',
                               data : [ 'pm2.5' ],
                               textStyle : {
                                   color : '#fff'
                               }
                           },
                           geo : {
                               map : 'china',
                               label : {
                                   emphasis : {
                                       show : false
                                   }
                               },
                               roam : true,
                               itemStyle : {
                                   normal : {
                                       areaColor : '#323c48',
                                       borderColor : '#111'
                                   },
                                   emphasis : {
                                       areaColor : '#2a333d'
                                   }
                               }
                           },
                           series : [ {
                               //name: '城市',
                               type : 'scatter',
                               coordinateSystem : 'geo',
                               data : res,
                               symbolSize : function(val) {
                                   return val[2] / 4000;
                               },
                               label : {
                                   normal : {
                                       formatter : '{c}',
                                       position : 'left',
                                       show : false
                                   },
                                   emphasis : {
                                       show : true
                                   }
                               },
                               itemStyle : {
                                   normal : {
                                       color : '#ddb926'
                                   }
                               }
                           }, {
                               name : '超多',
                               type : 'effectScatter',
                               coordinateSystem : 'geo',
                               data : res.slice(0, 6),
                               symbolSize : function(val) {
                                   return val[2] / 6000;
                               },
                               showEffectOn : 'render',
                               rippleEffect : {
                                   brushType : 'stroke'
                               },
                               hoverAnimation : true,
                               label : {
                                   normal : {
                                       formatter : '{b}',
                                       position : 'right',
                                       show : true
                                   }
                               },
                               itemStyle : {
                                   normal : {
                                       color : '#f4e925',
                                       shadowBlur : 10,
                                       shadowColor : '#333'
                                   }
                               },
                               zlevel : 1
                           } ]
                       });
                   }
               })
           });
           $('#more').on('click',function(){
               $('.more').toggle(1000);
               if($('#more').text()=='简要搜索<<')
               {
                   $('#more').text('精确搜索>>');
               }
               else{
                   $('#more').text('简要搜索<<');
               }


           })
       </script>
   </body>
</html>
